{"environment":"development","level":"info","message":"Starting database migration: 008_table_banking_module","service":"chamasmart-api","timestamp":"2026-01-02T22:58:36.721Z"}
{"environment":"development","error":"password authentication failed for user \"lewis\"","level":"error","message":"Database query error","query":"-- 008_table_banking_module.sql\r\n--\r\n-- Introduces richer Table Banking support:\r\n--  - Extends loans table with additional lifecycle/status and balances\r\n--  - Adds loan_guarantors table\r\n--  - Adds ","service":"chamasmart-api","timestamp":"2026-01-02T22:59:13.960Z"}
{"environment":"development","level":"info","message":"Starting database migration: 008_table_banking_module","service":"chamasmart-api","timestamp":"2026-01-02T23:01:24.247Z"}
{"environment":"development","error":"password authentication failed for user \"lewis\"","level":"error","message":"Error connecting to PostgreSQL (will retry)","service":"chamasmart-api","timestamp":"2026-01-02T23:01:24.343Z"}
{"environment":"development","error":"password authentication failed for user \"lewis\"","level":"error","message":"Database query error","query":"-- 008_table_banking_module.sql\r\n--\r\n-- Introduces richer Table Banking support:\r\n--  - Extends loans table with additional lifecycle/status and balances\r\n--  - Adds loan_guarantors table\r\n--  - Adds ","service":"chamasmart-api","timestamp":"2026-01-02T23:01:24.348Z"}
{"date":"Sat Jan 03 2026 02:04:11 GMT+0300 (East Africa Time)","environment":"development","error":{"code":"28P01","file":"auth.c","length":101,"line":"320","name":"error","routine":"auth_failed","severity":"FATAL"},"level":"error","message":"unhandledRejection: password authentication failed for user \"lewis\"\nerror: password authentication failed for user \"lewis\"\n    at C:\\Users\\lewis\\Desktop\\chamasmart\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at async runMigration (C:\\Users\\lewis\\Desktop\\chamasmart\\backend\\run-migration.js:6:18)","os":{"loadavg":[0,0,0],"uptime":14202.171},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\lewis\\Desktop\\chamasmart\\backend\\run-migration.js"],"cwd":"C:\\Users\\lewis\\Desktop\\chamasmart","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":19308,"external":2104171,"heapTotal":13250560,"heapUsed":9547856,"rss":53346304},"pid":16400,"uid":null,"version":"v24.12.0"},"rejection":true,"service":"chamasmart-api","stack":"error: password authentication failed for user \"lewis\"\n    at C:\\Users\\lewis\\Desktop\\chamasmart\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at async runMigration (C:\\Users\\lewis\\Desktop\\chamasmart\\backend\\run-migration.js:6:18)","timestamp":"2026-01-02T23:04:11.562Z","trace":[{"column":11,"file":"C:\\Users\\lewis\\Desktop\\chamasmart\\backend\\node_modules\\pg-pool\\index.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":103,"method":"processTicksAndRejections","native":false},{"column":18,"file":"C:\\Users\\lewis\\Desktop\\chamasmart\\backend\\run-migration.js","function":"async runMigration","line":6,"method":null,"native":false}]}
{"environment":"development","error":"password authentication failed for user \"lewis\"","level":"error","message":"Error connecting to PostgreSQL (will retry)","service":"chamasmart-api","timestamp":"2026-01-02T23:04:12.007Z"}
{"environment":"development","error":"password authentication failed for user \"lewis\"","level":"error","message":"Error connecting to PostgreSQL (will retry)","service":"chamasmart-api","timestamp":"2026-01-02T23:05:34.234Z"}
{"date":"Sat Jan 03 2026 02:05:34 GMT+0300 (East Africa Time)","environment":"development","error":{"code":"28P01","file":"auth.c","length":101,"line":"320","name":"error","routine":"auth_failed","severity":"FATAL"},"level":"error","message":"unhandledRejection: password authentication failed for user \"lewis\"\nerror: password authentication failed for user \"lewis\"\n    at C:\\Users\\lewis\\Desktop\\chamasmart\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at async runMigration (C:\\Users\\lewis\\Desktop\\chamasmart\\backend\\run-migration.js:6:18)","os":{"loadavg":[0,0,0],"uptime":14284.921},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\lewis\\Desktop\\chamasmart\\backend\\run-migration.js"],"cwd":"C:\\Users\\lewis\\Desktop\\chamasmart","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":19945,"external":2105000,"heapTotal":13774848,"heapUsed":9894680,"rss":53776384},"pid":23516,"uid":null,"version":"v24.12.0"},"rejection":true,"service":"chamasmart-api","stack":"error: password authentication failed for user \"lewis\"\n    at C:\\Users\\lewis\\Desktop\\chamasmart\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at async runMigration (C:\\Users\\lewis\\Desktop\\chamasmart\\backend\\run-migration.js:6:18)","timestamp":"2026-01-02T23:05:34.314Z","trace":[{"column":11,"file":"C:\\Users\\lewis\\Desktop\\chamasmart\\backend\\node_modules\\pg-pool\\index.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":103,"method":"processTicksAndRejections","native":false},{"column":18,"file":"C:\\Users\\lewis\\Desktop\\chamasmart\\backend\\run-migration.js","function":"async runMigration","line":6,"method":null,"native":false}]}
{"environment":"development","error":"password authentication failed for user \"lewis\"","level":"error","message":"Error connecting to PostgreSQL (will retry)","service":"chamasmart-api","timestamp":"2026-01-02T23:05:37.801Z"}
{"date":"Sat Jan 03 2026 02:05:37 GMT+0300 (East Africa Time)","environment":"development","error":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"level":"error","message":"unhandledRejection: read ECONNRESET\nError: read ECONNRESET\n    at C:\\Users\\lewis\\Desktop\\chamasmart\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at async runMigration (C:\\Users\\lewis\\Desktop\\chamasmart\\backend\\run_migration.js:6:20)","os":{"loadavg":[0,0,0],"uptime":14288.421},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\lewis\\Desktop\\chamasmart\\backend\\run_migration.js"],"cwd":"C:\\Users\\lewis\\Desktop\\chamasmart","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":85379,"external":2104898,"heapTotal":13774848,"heapUsed":9901680,"rss":53387264},"pid":15916,"uid":null,"version":"v24.12.0"},"rejection":true,"service":"chamasmart-api","stack":"Error: read ECONNRESET\n    at C:\\Users\\lewis\\Desktop\\chamasmart\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at async runMigration (C:\\Users\\lewis\\Desktop\\chamasmart\\backend\\run_migration.js:6:20)","timestamp":"2026-01-02T23:05:37.815Z","trace":[{"column":11,"file":"C:\\Users\\lewis\\Desktop\\chamasmart\\backend\\node_modules\\pg-pool\\index.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":103,"method":"processTicksAndRejections","native":false},{"column":20,"file":"C:\\Users\\lewis\\Desktop\\chamasmart\\backend\\run_migration.js","function":"async runMigration","line":6,"method":null,"native":false}]}
{"environment":"development","level":"info","message":"Starting database migration: 007_performance_optimization","service":"chamasmart-api","timestamp":"2026-01-02T23:05:41.186Z"}
{"environment":"development","error":"password authentication failed for user \"lewis\"","level":"error","message":"Error connecting to PostgreSQL (will retry)","service":"chamasmart-api","timestamp":"2026-01-02T23:05:41.304Z"}
{"environment":"development","error":"password authentication failed for user \"lewis\"","level":"error","message":"Database query error","query":"-- ChamaSmart Phase 2: Advanced Performance Indexes\r\n-- This migration adds composite indexes, partial indexes, and optimizations\r\n-- for handling billions of records with sub-100ms response times\r\n\r\n","service":"chamasmart-api","timestamp":"2026-01-02T23:05:41.310Z"}
{"environment":"development","level":"info","message":"Starting database migration: 008_table_banking_module","service":"chamasmart-api","timestamp":"2026-01-02T23:05:41.805Z"}
{"environment":"development","error":"password authentication failed for user \"lewis\"","level":"error","message":"Error connecting to PostgreSQL (will retry)","service":"chamasmart-api","timestamp":"2026-01-02T23:05:41.896Z"}
{"environment":"development","error":"password authentication failed for user \"lewis\"","level":"error","message":"Database query error","query":"-- 008_table_banking_module.sql\r\n--\r\n-- Introduces richer Table Banking support:\r\n--  - Extends loans table with additional lifecycle/status and balances\r\n--  - Adds loan_guarantors table\r\n--  - Adds ","service":"chamasmart-api","timestamp":"2026-01-02T23:05:41.943Z"}
{"database":"chamasmart","environment":"development","host":"localhost","level":"info","maxConnections":20,"message":"PostgreSQL connected successfully","service":"chamasmart-api","timestamp":"2026-01-02T23:13:33.559Z"}
{"database":"chamasmart","environment":"development","host":"localhost","level":"info","maxConnections":20,"message":"PostgreSQL connected successfully","service":"chamasmart-api","timestamp":"2026-01-02T23:13:54.085Z"}
{"environment":"development","level":"info","message":"Starting database migration: 007_performance_optimization","service":"chamasmart-api","timestamp":"2026-01-02T23:14:11.223Z"}
{"database":"chamasmart","environment":"development","host":"localhost","level":"info","maxConnections":20,"message":"PostgreSQL connected successfully","service":"chamasmart-api","timestamp":"2026-01-02T23:14:11.327Z"}
{"environment":"development","error":"CREATE INDEX CONCURRENTLY cannot run inside a transaction block","level":"error","message":"Database query error","query":"-- ChamaSmart Phase 2: Advanced Performance Indexes\r\n-- This migration adds composite indexes, partial indexes, and optimizations\r\n-- for handling billions of records with sub-100ms response times\r\n\r\n","service":"chamasmart-api","timestamp":"2026-01-02T23:14:11.374Z"}
{"environment":"development","level":"info","message":"Starting database migration: 008_table_banking_module","service":"chamasmart-api","timestamp":"2026-01-02T23:14:27.291Z"}
{"database":"chamasmart","environment":"development","host":"localhost","level":"info","maxConnections":20,"message":"PostgreSQL connected successfully","service":"chamasmart-api","timestamp":"2026-01-02T23:14:27.383Z"}
{"duration":"3008ms","environment":"development","level":"warn","message":"Slow database query detected","query":"-- 008_table_banking_module.sql\r\n--\r\n-- Introduces richer Table Banking support:\r\n--  - Extends loans table with additional lifecycle/status and balances\r\n--  - Adds loan_guarantors table\r\n--  - Adds ","service":"chamasmart-api","timestamp":"2026-01-02T23:14:30.303Z"}
{"database":"chamasmart","environment":"development","host":"localhost","level":"info","maxConnections":20,"message":"PostgreSQL connected successfully","service":"chamasmart-api","timestamp":"2026-01-03T14:33:54.577Z"}
